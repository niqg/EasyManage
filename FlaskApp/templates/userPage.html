<DOCTYPE html>
<html lang="en">

<head>
<title>Axolotl Senior Project</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-signin-client_id" content="430084226490-l250drphth8ar7922g60ner0d4mujg5o.apps.googleusercontent.com">
<script src="https://apis.google.com/js/platform.js" async=async  defer=defer></script>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<script src="/static/js/currentState.js"></script> <!--IMPORTANT, This lets the javascript tell which page we are currently on-->
<script src="/static/js/googleAuthentication/gSignIn.js"></script>
<script src="/static/js/googleAuthentication/gSignOut.js"></script>
<script src="/static/js/jQuery.js"></script>


      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
   
  <!-- Google API-->
  <script src='https://apis.google.com/js/api.js'></script>
  <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
  <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
  <script src="https://apis.google.com/js/client:plusone.js" type="text/javascript"></script>   
    

  <script src="/static/js/workOrders/getWorkOrders.js"></script>
  <script src="/static/js/purchaseOrders/getPurchaseOrders.js"></script>
  <script src="/static/js/contacts/getContacts.js"></script>
  <script src="/static/js/generalOrders/getGeneralInfo.js"></script>
  <script src="/static/js/tutorials/getTutorials.js"></script>
  <script src="http://axolotldevelopment.com/static/js/settings/getSettings.js"></script> 
  <script src="/static/js/entries/postEntry.js"></script>
  <script src="/static/js/entries/deleteEntry.js"></script>
  <script src="/static/js/putEntry.js"></script>
  <script src="/static/js/workOrders/markComplete.js"></script>

  <!--PDFs-->  
  <script src="/static/js/pdfs/uploadpdfs.js"></script>
  <script src="/static/js/pdfs/getPdf.js"></script>
  <script src="/static/js/pdfs/viewPdf.js"></script>

  <script src="/static/js/populateModalData/tableClick.js"></script> 
  <script src="/static/js/closeModal.js"></script> 
  <script src="/static/js/search/search.js"></script>
  <script src="/static/js/entries/getFilteredEntries.js"></script>
  <script src="/static/js/workOrders/getFilteredWorkOrders.js"></script>
  <script src="/static/js/purchaseOrders/getFilteredPurchaseOrders.js"></script>
  <script src="/static/js/generalOrders/getFilteredGeneralOrders.js"></script>
  <script src="/static/js/contacts/getFilteredContacts.js"></script>
  <script src="/static/js/entries/getEntries.js"></script>
  <body onload="getEntries();">
  <script src="/static/js/populateModalData/populateModifyEntryModal.js"></script>

  <script src="/static/js/closeModal.js"></script>
  <script src="static/js/toggleModifyButtons.js"></script>
 
  <script src="static/js/getCal.js"></script>
  <script src="static/js/displayUsername.js"></script>

  <!-- USED FOR ALL GOOGLE CALENDAR-->
  <meta charset='utf-8' />
  <link href='static/js/calendar/fullcalendar.min.css' rel='stylesheet' />
  <link href='static/js/calendar/fullcalendar.print.min.css' rel='stylesheet' media='print' />
  <script src='static/js/calendar/lib/moment.min.js'></script>
  <script src='static/js/calendar/lib/jquery.min.js'></script>
  <script src='static/js/calendar/fullcalendar.min.js'></script>
  <script src='static/js/calendar/gcal.min.js'></script>
  <script src='static/js/calendar/toggleCalendar.js'></script>
  <script src='static/js/auth2.js'></script>
  <script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>
  <!--Used for Contacts Page-->
  <script src='static/js/populateModalData/populateCreateContactModal.js'></script>
  <script src='static/js/populateModalData/populateModifyContactModal.js'></script>
  <script src='static/js/contacts/postContact.js'></script>
  <script src='static/js/contacts/getContact.js'></script>
  <script src='static/js/contacts/putContact.js'></script>
  <script src='static/js/getAboutUs.js'></script>


  
   <!--   <script async defer src="https://apis.google.com/js/api.js"
      onload="this.onload=function(){};handleClientLoad()"
      onreadystatechange="if (this.readyState === 'complete') this.onload()">
    </script>
-->
   <!--Alert Box-->
   <script src='static/js/alert.js'></script>
   
   <!--CSS STUFF -->
   <link rel="stylesheet" href='static/js/css/style.css'></link>

  <style>
    body {
      background-image: url("/static/js/css/facility2.jpg");
      background-size: 100%;
      }

    .data{
      display:none;

    }
   
    table {
    color: #333;
    font-family: Helvetica, Arial, sans-serif;
    width: 640px;
    border-collapse:
    collapse; border-spacing: 0;
   }

   h4{
	font-family: "Times New Roman", Times, serif;
	font-style: oblique;
	color: red;
	visibility: visible;
	float: right;
   }

   td, th {
    border: 1px solid transparent; /* No more visible border */
    height: 30px;
    transition: all 0.3s;  /* Simple transition for hover effect */
   }

   th {
    background: #DFDFDF;  /* Darken header a bit */
    font-weight: bold;
   }

   td {
    background: #FAFAFA;
    text-align: center;
   }

   /* Cells in even rows (2,4,6...) are one color */        
  /* tr:nth-child(even) td { background: #8796e5; }*/   

   /* Cells in odd rows (1,3,5...) are another (excludes header cells)  */        
  /* tr:nth-child(odd) td { background: #75c1ff; } */ 

  /* tr td:hover { background: #d6cea0; color: #000000; }  */
   /* Hover cell effect! */

  </style>

</head>

<body>



  <style>
    .btn-primary {
      block-size: 60px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
    }
    

  #loading {
    display: none;
    position: absolute;
    top: 10px;
    right: 10px;
  }

  #calendar {
    visibility: hidden;
    max-width: 900px;
    margin: 0 auto;
  }

  

  </style>

  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">Axolotl EasyManage</a>
      </div>
      <ul class="nav navbar-nav">
        <li class="active">
          <a href="home">Home</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="#" onClick="googleSignOut()">
            <span class="glyphicon glyphicon-log-in"></span> Logout</a>

        </li>
      </ul>
    </div>
  </nav>
  <div>
   <h4 id="unameDisplay" align="right"></h4>
    <script>displayUsername();</script>
  </div>
  <div class="data">
  <p>Profile Details</p>
  <img id="pic" class="img-circle" width="100" height="100"/>
  <p>Email Address</p>
  <p id="email" class="alert alert-danger"></p>
  </div>

   <div id="permAlert" class="alert alert-danger" role="alert" style="float:center; display:none">
    <div style="text-align:center">You do not have permission to preform this action<button onclick="hideError()">Dismiss</button></div>
</div>
  <div class="container" style="position: absolute;right:70px">
  </div>
<div>
   <h2 id="unameDisplay" align="right"></h2>
    <script>displayUsername();</script>
  </div>
  
  <div class="container" style="position: absolute;left:70px">
    <h3>EasyManage</h3>
    <script>displayUsername();</script>
    <div class="panel-group">
      <div class="row equal-height-panels">
        <!--Script for Making Collumns the same height-->
        <div class="col-sm-2">
          <div class="panel panel-default">
            <div class="panel-heading">Navigation Bar</div>
            <div class="panel-body">
              <div class="row">
                <div class='wrapper text-center'>
                  <div class="btn-group-vertical">
                    <button type="button" id="entriesButton" class="btn btn-primary" onclick="getEntries()">Entries</button>
                    <button type="button" id="workOrderbutton" class="btn btn-primary" onclick="getWorkOrders()">Work Orders</button>
                    <button type="button" id="purchaaseButton" class="btn btn-primary" onclick="getPurchaseOrders()">Purchase Order</button>
		    <button type="button" id="generalInfoButton" class="btn btn-primary" onclick="getGeneralInfo()">General Entries</button>
                    <button type="button" id="contactButton" class="btn btn-primary" onclick="getContacts()">Contacts</button>
                    <button type="button" id="calendarButton" class="btn btn-primary" onclick="getCal()"-->Calendar</button>
                    <button type="button" id="tutorialButton" class="btn btn-primary" onclick="getTutorials()">Tutorials</button>
                    <button type="button" id="settingButton" class="btn btn-primary" onclick="getSettings()">Settings</button>
			<button type="button" id="aboutUsButton" class="btn btn-primary" onclick="getAboutUs()">About Us</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
	
        <div class="col-sm-10"> <!-- col-sm-10 -->
          <div class="panel panel-default" id="panel"> <!--width:1000px-->
		<script>
		   var w = window.innerWidth;
		   document.getElementById("panel").style.maxWidth = "1000px";
		   document.getElementById("panel").style.width = w;
		</script>
            <div class="panel-heading" id="panelHeader">Content Window
	     <div style="float: right"> 
	      <div id="searchBar" style='visibility: visible'>
	     <input id="search"</input>
	     <button class="fa fa-search"  onclick="search()"></button>
	      </div>
	     </div>
	   </div>
            <div id ="panelBody" class="panel-body fixed-panel" style="overflow: auto; max-height: 500px; position: top;left:10px;right: 15px;">
                        <label id="entryHeader"></label>
                  <table id="tableid" class="table table-striped table-bordered" cellspacing="0" width="100%" >             
          <!--   <table id="tableid" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%" >-->
                  </table>

		<div id='loading'>loading...</div>
   		<div id='calendar' style='visibility: visible'></div>
            </div>
          </div>
        </div>

      </div>


      <div class="col-sm-10" style="float: right">
        <div class="btn-toolbar" style="padding-top: 10px;">
          <!--<button type="button" href="https://google.com" class="btn btn-primary" style="
float: right;">Create Entry</button>-->
          <div class="button group" style="float: right;">
	    <button type="button" onclick="populateCreateContactModal()" class="btn btn-info btn-lg" data-toggle="modal" data-target="#createContactModal">Create Contact</button>
            <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#createEntryModal">Create Entry</button>
          </div>
          <!--Create Entry  Modal -->
          <div class="modal" id="createEntryModal" role="dialog">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title" style="text-align: center;">Create Entry</h4>
                </div>
                <div class="modal-body" id="createEntryModalBody">
                  <form>
                    <div class="block">
                      <label for="entryTitle">Title</label>
                      <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
                        <input type="text" required name="title" id="createEntryTitle" placeholder="title" ;="">
		
                      </div>
                    </div>
                    <div class="block">
                      <label for="entryType">Entry Type</label>
                      <div id="select" class="ui-btn">
                        <select class="form-control" id="createEntryType">
                          <option value="NULL">General Entry</option>
                          <option value="WRK">Work Order</option>
                          <option value="PRC">Purchase Order</option>
                        </select>
                      </div>
                    </div>
                    <div class="block">
                      <label>Description</label>
                      <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
                        <textarea class="form-control" id="createEntryDescription" rows="5" placeholder="Write description here" required></textarea>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <div class="button group" style="float: right;">
                    <button type="button" class="btn btn-default" onclick="postEntry()">Create</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!--Modify Entry Modal-->
          <div class="modal" id="modifyEntryModal" role="dialog">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
		<button type="button" onclick="closeEntryModal()" class="close" data-dismiss="modal">Close</button>
                  <h4 class="modal-title" style="text-align: center;">Modify Entry</h4>
                </div>
                <div class="modal-body" id="modifyEntryModalBody">
                </div>
                <div class="modal-footer" id="modifyEntryModalFooter">
                  <div class="button group" id="modifyButtonGroup" style='visibility:visible'>
		<button style="float: left;" type="button" class="btn btn-default" data-dismiss="modal" onclick="deleteEntry()">Delete Entry</button>
	        <button id="attachFileButton" style="float: left;" type="button" class="btn btn-info" data-toggle="modal" data-target="#Add_File_Modal" onclick="getPdfs()">Attach File</button>
                <button id="saveEntryButton" style="float: right;" type="button" class="btn btn-default" data-dismiss="modal" onclick="putEntry()">Save</button>
		    <button onclick="markComplete()">Mark Complete</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
	  <!--Modal for Create Contact-->
          <div class="modal" id="createContactModal" role="dialog">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title" style="text-align: center;">Create Contact</h4>
                  <button type="button"  class="close" data-dismiss="modal">&times;</button>
	        </div>
                <div class="modal-body" id="createContactModalBody">
                </div>
                <div class="modal-footer" id="createContactModalFooter">
                    <button onclick="postContact() "type="button" class="btn btn-default">Create</button>
                  </div>

                </div>
              </div>
            </div>
           </div>
	
	<!--Modal for Modify Contact-->
          <div class="modal" id="modifyContactModal" role="dialog">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title" style="text-align: center;">Modify Contact</h4>
		<button type="button" onclick="closeContactModal()" class="close" data-dismiss="modal">Close</button>
		</div>
                <div class="modal-body" id="modifyContactModalBody">
                </div>
                <div class="modal-footer" id="modifyContactModalFooter">
		   <button onclick="putContact()" style="float: right" type="button" class="btn btn-default">Save</button>
                  </div>

                </div>
              </div>
            </div>
           </div>


	  <!-- Modal for an individual users' settings-->
	<div class = "modal" id="settingsModal" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class ="modal-header">
					<h4 class="modal-title" style="text-align: center;">Please check the settings you'd like applied!</h4>
				<button type="button" onclick="closeSettingsModal()" class="close" data-dismiss="modal">Close</button>
				</div>
				<div class="modal-body">
					
						<input type="checkbox" id="permission1" >Permission to read entries
						<br/>
						<input type="checkbox" id="permission2" >Permission to write entries
						<br/>
						<input type="checkbox" id="permission3" >Permission to remove entries
            <br/>
            <input type="checkbox" id="permission4" >Permission to read contacts
            <br/>
						<input type="checkbox" id="permission5" >Permission to write contacts
            <br/>
            <input type="checkbox" id="permission6" >Permission to remove contacts
            <br/>
						<input type="checkbox" id="permission7" >Permission to read personnel
            <br/>
            <input type="checkbox" id="permission8" >Permission to write personnel
            <br/>
						<input type="checkbox" id="permission9" >Permission to remove personnel
            <br/>
            <input type="checkbox" id="permission10" >Permission to change other users' permissions
            <br/>
            <input type="checkbox" id="permission11" >Permission to add new users
            <br/>
						
					
				</div>
				<div>
				<button sytle="float: center" onClick = "applyPermissions()">Apply</button>
				</div>
			</div>
		</div>

      </div>








      <div class="col-sm-10" style="float: right">
        <div class="btn-toolbar" style="padding-top: 10px;">

         
        </div>

      </div>


    </div>

  </div>
  
            <!--Add file Modal -->
          <div class="modal fade" id="Add_File_Modal" role="dialog">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title" style="text-align: center;">Create Entry</h4>
                </div>
                <div class="modal-body" id="addPdfModalBody">
			<div class="block" id="displayPdfs">
                      </div>
                  <form>
                    <div class="block">
                      <label for="entryFile">Attach File</label>
                      <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
			<input sytle="float: left" accept="application/pdf" type="file" id="my_files" multiple>
			<button style="float: right" data-dismiss="modal" onClick="uploadPDFs()">Submit</button>
                      </div>
                    </div>
                    </div>
                    <div class="block">
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <div class="button group" style="float: right;">
                  </div>
                </div>
              </div>
            </div>
          </div>
    <script src="static/js/matchHeight.js"></script>
   

<!--	<script> // 
   $('#tableid').click(function(){
	console.log("table was clicked once");
		tableClick();
	//tableClick();
	});
	</script>	
-->
  <!-- Commented out until me and bren look at this ->
 <script async defer src="https://apis.google.com/js/api.js"
      onload="this.onload=function(){};handleClientLoad()"
      onreadystatechange="if (this.readyState === 'complete') this.onload()">
    </script--> 

	<script>
	$('#tableid').click(function(){
	   tableClick();	
	});
	</script>





</body>

</html>
